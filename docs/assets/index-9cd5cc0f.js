import{d as j,h as b,r as m,o as g,c as M,a as l,k as _,_ as k,l as x,w as c,b as V,x as Y,y as ae,f as h,F as T,i as B,m as A,t as w,M as E,p as oe,e as se,v as le,z as ne,A as re,B as G,C as H}from"./index-08118756.js";import{g as ue}from"./index-f7a2f0a5.js";const de={class:"excel-to-json"},ce=j({__name:"ExcelToJson",setup(a){let e=b([]);const t=o=>{e.value=o};return(o,r)=>{const n=m("file-upload"),s=m("json-viewer");return g(),M("div",de,[l(n,{onSuccess:t}),l(s,{class:"json-viewer",value:_(e),copyable:!0,"expand-depth":2,boxed:""},null,8,["value"])])}}});const ie=k(ce,[["__scopeId","data-v-7e0406bd"]]),_e={class:"json-to-excel"},pe=j({__name:"JsonToExcel",setup(a){let e=b("");const t=()=>{const o=Y.json_to_sheet(JSON.parse(e.value)),r=Y.book_new();Y.book_append_sheet(r,o,"data"),ae(r,"测试表格.xlsx")};return(o,r)=>{const n=m("a-textarea"),s=m("svg-icon"),i=m("a-button");return g(),M("div",_e,[l(n,{class:"json-excel",placeholder:"请输入JSON内容",modelValue:_(e),"onUpdate:modelValue":r[0]||(r[0]=f=>x(e)?e.value=f:e=f)},null,8,["modelValue"]),l(i,{class:"btn-convert-json",type:"primary",onClick:t},{icon:c(()=>[l(s,{name:"convert",size:"15px"})]),default:c(()=>[V(" 转换EXCEL ")]),_:1})])}}});const me=k(pe,[["__scopeId","data-v-fc9f756d"]]);let S=3.141592653589793*3e3/180,v=3.141592653589793,U=6378245,D=.006693421622965943;const P=(a,e)=>{let t=300+a+2*e+.1*a*a+.1*a*e+.1*Math.sqrt(Math.abs(a));return t+=(20*Math.sin(6*a*v)+20*Math.sin(2*a*v))*2/3,t+=(20*Math.sin(a*v)+40*Math.sin(a/3*v))*2/3,t+=(150*Math.sin(a/12*v)+300*Math.sin(a/30*v))*2/3,t},W=(a,e)=>{let t=-100+2*a+3*e+.2*e*e+.1*a*e+.2*Math.sqrt(Math.abs(a));return t+=(20*Math.sin(6*a*v)+20*Math.sin(2*a*v))*2/3,t+=(20*Math.sin(e*v)+40*Math.sin(e/3*v))*2/3,t+=(160*Math.sin(e/12*v)+320*Math.sin(e*v/30))*2/3,t},X=(a,e)=>a<72.004||a>137.8347||e<.8293||e>55.8271||!1,Q=(a,e)=>{if(a=Number(a),e=Number(e),X(a,e))return[a,e];{let t=W(a-105,e-35),o=P(a-105,e-35),r=e/180*v,n=Math.sin(r);n=1-D*n*n;let s=Math.sqrt(n);t=t*180/(U*(1-D)/(n*s)*v),o=o*180/(U/s*Math.cos(r)*v);let i=e+t;return[a+o,i]}},R=(a,e)=>{const t=Q(a,e);return q(t[0],t[1])},I=(a,e)=>{let t=a-.0065,o=e-.006,r=Math.sqrt(t*t+o*o)-2e-5*Math.sin(o*S),n=Math.atan2(o,t)-3e-6*Math.cos(t*S),s=r*Math.cos(n),i=r*Math.sin(n);return[s,i]},ve=(a,e)=>{const t=I(a,e);return K(t[0],t[1])},q=(a,e)=>{let t=Math.sqrt(a*a+e*e)+2e-5*Math.sin(e*S),o=Math.atan2(e,a)+3e-6*Math.cos(a*S),r=t*Math.cos(o)+.0065,n=t*Math.sin(o)+.006;return[r,n]},K=(a,e)=>{if(X(a,e))return[a,e];{let t=W(a-105,e-35),o=P(a-105,e-35),r=e/180*v,n=Math.sin(r);n=1-D*n*n;let s=Math.sqrt(n);t=t*180/(U*(1-D)/(n*s)*v),o=o*180/(U/s*Math.cos(r)*v);let i=e+t,f=a+o;return[a*2-f,e*2-i]}},be=(a,e,t)=>new Promise((o,r)=>{a.plugin("AMap.Geocoder",()=>{new a.Geocoder().getAddress([e,t],(n,s)=>{if(n==="complete"&&s.info==="OK"){const i=s.regeocode.formattedAddress;o(i)}else r(null)})})}),O=a=>(oe("data-v-dee060bf"),a=a(),se(),a),fe={class:"coordinate-convert"},he={class:"type-select"},ge={class:"coordinate-type-select"},xe=O(()=>h("span",null,"坐标系 : ",-1)),ye={class:"initial-coordinate"},Me=O(()=>h("span",null,"坐标 : ",-1)),Ve={class:"result-coordinate"},je={class:"coordinate-type-select"},Ce=O(()=>h("span",null,"目标坐标系 : ",-1)),we={class:"batch-coordinate-result"},ke=j({__name:"CoordinateConvert",setup(a){let e=b("single"),t=b(""),o=b([{label:"WGS84(国际通用)",value:"wgs84"},{label:"BD09(百度地图)",value:"bd09"},{label:"GCJ02(高德、QQ地图)",value:"gcj02"}]),r=b(""),n=b({wgs84:"",gcj02:"",bd09:"",address:""}),s=b(""),i=b(""),f=b(!1),y=b("");const C=async()=>{if(!t.value){E.warning("请选择初始坐标系类型");return}if(e.value==="single"){if(!r.value){E.warning("请输入初始坐标");return}const u=r.value.split(",");switch(n.value[t.value]=r.value,t.value){case"wgs84":n.value.gcj02=Q(Number(u[0]),Number(u[1])).join(","),n.value.bd09=R(Number(u[0]),Number(u[1])).join(",");break;case"gcj02":n.value.wgs84=K(Number(u[0]),Number(u[1])).join(","),n.value.bd09=q(Number(u[0]),Number(u[1])).join(",");break;case"bd09":n.value.wgs84=ve(Number(u[0]),Number(u[1])).join(","),n.value.gcj02=I(Number(u[0]),Number(u[1])).join(",");break}}else{if(!s.value||!i.value){E.warning(s.value?"请选择目标坐标系类型":"请输入初始坐标");return}if(t.value===i.value){E.warning("经纬度初始类型与转换类型一致");return}f.value=!0;let u=[];switch(i.value){case"wgs84":u=s.value.split(`
`).map(p=>R(Number(p.split(",")[0]),Number(p.split(",")[1])).join(","));break;case"gcj02":u=s.value.split(`
`).map(p=>q(Number(p.split(",")[0]),Number(p.split(",")[1])).join(","));break;case"bd09":u=s.value.split(`
`).map(p=>I(Number(p.split(",")[0]),Number(p.split(",")[1])).join(","));break}y.value=u.join(`
`)}};return(u,p)=>{const N=m("a-radio"),J=m("a-radio-group"),Z=m("a-input"),L=m("svg-icon"),z=m("a-button"),$=m("temlpate"),ee=m("a-textarea"),te=m("a-modal");return g(),M("div",fe,[h("div",he,[l(J,{modelValue:_(e),"onUpdate:modelValue":p[0]||(p[0]=d=>x(e)?e.value=d:e=d)},{default:c(()=>[l(N,{value:"single"},{default:c(()=>[V("单量")]),_:1}),l(N,{value:"batch"},{default:c(()=>[V("批量")]),_:1})]),_:1},8,["modelValue"])]),h("div",ge,[xe,l(J,{modelValue:_(t),"onUpdate:modelValue":p[1]||(p[1]=d=>x(t)?t.value=d:t=d)},{default:c(()=>[(g(!0),M(T,null,B(_(o),d=>(g(),A(N,{value:d.value,key:d.value},{default:c(()=>[V(w(d.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_(e)==="single"?(g(),A($,{key:0},{default:c(()=>[h("div",ye,[Me,l(Z,{class:"coordinate-value",placeholder:"请输入经纬度(逗号隔开)","allow-clear":"",modelValue:_(r),"onUpdate:modelValue":p[2]||(p[2]=d=>x(r)?r.value=d:r=d)},null,8,["modelValue"]),l(z,{type:"primary",onClick:C},{icon:c(()=>[l(L,{name:"convert",size:"15px"})]),default:c(()=>[V(" 转换 ")]),_:1})]),h("ul",Ve,[(g(!0),M(T,null,B(_(o),d=>(g(),M("li",{key:d.value,class:"item-result"},[h("span",null,w(d.label),1),h("span",null,w(_(n)[d.value]),1)]))),128))])]),_:1})):(g(),M(T,{key:1},[l(ee,{class:"coordinate-list",placeholder:`请输入经纬度以换行隔开, 例如: 
121.222222,23.342122
121.222223,23.342123
121.222224,23.342124`,modelValue:_(s),"onUpdate:modelValue":p[3]||(p[3]=d=>x(s)?s.value=d:s=d)},null,8,["modelValue"]),h("div",je,[Ce,l(J,{modelValue:_(i),"onUpdate:modelValue":p[4]||(p[4]=d=>x(i)?i.value=d:i=d)},{default:c(()=>[(g(!0),M(T,null,B(_(o),d=>(g(),A(N,{value:d.value,key:d.value},{default:c(()=>[V(w(d.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),l(z,{type:"primary",onClick:C},{icon:c(()=>[l(L,{name:"convert",size:"15px"})]),default:c(()=>[V(" 转换 ")]),_:1}),l(te,{visible:_(f),"onUpdate:visible":p[5]||(p[5]=d=>x(f)?f.value=d:f=d)},{title:c(()=>[V(" 批量转换经纬度结果 ")]),default:c(()=>[h("div",we,w(_(y)),1)]),_:1},8,["visible"])],64))])}}});const Ne=k(ke,[["__scopeId","data-v-dee060bf"]]),Te={class:"trans-address"},Ee=j({__name:"TransAddress",setup(a){let e=b({});le(async()=>{e=await ue()});let t=b(""),o=b("");const r=async()=>{o.value="",await Promise.all(t.value.split(`
`).map(async n=>{const s=await be(e,n.split(",")[0],n.split(",")[1]);o.value?o.value+=`
${s}`:o.value=s}))};return(n,s)=>{const i=m("a-textarea"),f=m("svg-icon");return g(),M("div",Te,[l(i,{class:"coordinate-list",placeholder:`请输入经纬度以换行隔开, 例如: 
121.222222,23.342122
121.222223,23.342123
121.222224,23.342124`,modelValue:_(t),"onUpdate:modelValue":s[0]||(s[0]=y=>x(t)?t.value=y:t=y)},null,8,["modelValue"]),l(f,{class:"exchange",name:"exchange",size:"40px",onClick:r}),l(i,{class:"coordinate-list",modelValue:_(o),"onUpdate:modelValue":s[1]||(s[1]=y=>x(o)?o.value=y:o=y)},null,8,["modelValue"])])}}});const Se=k(Ee,[["__scopeId","data-v-f246da9d"]]);var Ue=ne();const F=re(Ue),De={class:"timestamp-convert"},Je={class:"convert-content"},Ye={class:"convert-content"},Be=j({__name:"TimestampConvert",setup(a){let e=b(0),t=b(""),o=b("");const r=()=>{e.value===0&&(o.value=String(F(t.value).valueOf())),e.value===1&&(t.value=F(Number(o.value)).format("YYYY-MM-DD HH:mm:ss"))};return(n,s)=>{const i=m("a-radio"),f=m("a-radio-group"),y=m("a-date-picker"),C=m("a-input");return g(),M("div",De,[l(f,{modelValue:_(e),"onUpdate:modelValue":s[0]||(s[0]=u=>x(e)?e.value=u:e=u)},{default:c(()=>[l(i,{value:0},{default:c(()=>[V("时间转换时间戳")]),_:1}),l(i,{value:1},{default:c(()=>[V("时间戳转换时间")]),_:1})]),_:1},8,["modelValue"]),G(h("div",Je,[l(y,{modelValue:_(t),"onUpdate:modelValue":s[1]||(s[1]=u=>x(t)?t.value=u:t=u),"show-time":"",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"]),h("span",{class:"exchange",onClick:r},"->"),l(C,{class:"timestamp",modelValue:_(o),"onUpdate:modelValue":s[2]||(s[2]=u=>x(o)?o.value=u:o=u),placeholder:"请输入时间戳"},null,8,["modelValue"])],512),[[H,_(e)===0]]),G(h("div",Ye,[l(C,{class:"timestamp",modelValue:_(o),"onUpdate:modelValue":s[3]||(s[3]=u=>x(o)?o.value=u:o=u),placeholder:"请输入时间戳"},null,8,["modelValue"]),h("span",{class:"exchange",onClick:r},"->"),l(y,{modelValue:_(t),"onUpdate:modelValue":s[4]||(s[4]=u=>x(t)?t.value=u:t=u),"show-time":"",format:"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])],512),[[H,_(e)===1]])])}}});const Ae=k(Be,[["__scopeId","data-v-3512ebbd"]]),Ie={class:"data-conversion"},Le=j({__name:"index",setup(a){return(e,t)=>{const o=m("a-tab-pane"),r=m("a-tabs");return g(),M("div",Ie,[l(r,{"default-active-key":"1"},{default:c(()=>[l(o,{key:"1",title:"EXCEL转JSON"},{default:c(()=>[l(ie)]),_:1}),l(o,{key:"2",title:"JSON转EXCEL"},{default:c(()=>[l(me)]),_:1}),l(o,{key:"3",title:"坐标转换"},{default:c(()=>[l(Ne)]),_:1}),l(o,{key:"4",title:"高德地址"},{default:c(()=>[l(Se)]),_:1}),l(o,{key:"5",title:"时间戳转换"},{default:c(()=>[l(Ae)]),_:1})]),_:1})])}}});export{Le as default};
